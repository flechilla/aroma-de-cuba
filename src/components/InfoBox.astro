---
interface Props {
  type?: 'info' | 'tip' | 'warning' | 'history';
  title?: string;
}

const { type = 'info', title } = Astro.props;

const icons: Record<string, string> = {
  info: '\u2139',
  tip: '\u2605',
  warning: '\u26A0',
  history: '\u231B',
};

const styleMap: Record<string, string> = {
  info: 'bg-[#f0f5fa] border-azul',
  tip: 'bg-[#f5f9f0] border-palma',
  warning: 'bg-[#fdf5ec] border-sol',
  history: 'bg-arena border-ron',
};

const styles = styleMap[type] || styleMap.info;
---

<aside class={`my-8 p-6 rounded-lg border ${styles}`} role="note">
  <div class="flex items-center gap-2 mb-3">
    <span class="text-lg" aria-hidden="true">{icons[type]}</span>
    {title && <strong class="font-body text-sm uppercase tracking-wide">{title}</strong>}
  </div>
  <div class="text-base leading-relaxed [&>p:last-child]:mb-0">
    <slot />
  </div>
</aside>
