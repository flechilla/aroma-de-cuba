---
interface Props {
  type?: 'info' | 'tip' | 'warning' | 'history';
  title?: string;
}

const { type = 'info', title } = Astro.props;

const icons: Record<string, string> = {
  info: 'ℹ',
  tip: '★',
  warning: '⚠',
  history: '⌛',
};
---

<aside class={`info-box info-box--${type}`} role="note">
  <div class="info-box__header">
    <span class="info-box__icon" aria-hidden="true">{icons[type]}</span>
    {title && <strong class="info-box__title">{title}</strong>}
  </div>
  <div class="info-box__content">
    <slot />
  </div>
</aside>

<style>
  .info-box {
    margin-block: var(--space-8);
    padding: var(--space-6);
    border-radius: var(--border-radius-lg);
    border: 1px solid var(--color-border);
  }

  .info-box--info    { background: #f0f5fa; border-color: var(--color-azul); }
  .info-box--tip     { background: #f5f9f0; border-color: var(--color-palma); }
  .info-box--warning { background: #fdf5ec; border-color: var(--color-sol); }
  .info-box--history { background: var(--color-arena); border-color: var(--color-ron); }

  .info-box__header {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    margin-bottom: var(--space-3);
  }

  .info-box__icon {
    font-size: var(--text-lg);
  }

  .info-box__title {
    font-family: var(--font-body);
    font-size: var(--text-sm);
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .info-box__content {
    font-size: var(--text-base);
    line-height: var(--leading-normal);
  }

  .info-box__content :global(p:last-child) {
    margin-bottom: 0;
  }
</style>
